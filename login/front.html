<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <title>Register</title>
    <link rel="stylesheet" href="front.css">
</head>
<body>
<div>
  <form class="headerForm">
    <img src="logo.png" alt="LOGO" class="logo"><br>
    <button type="button" onclick="openLogIn()" style="width:auto;">Log In</button>
    <button type="button" onclick="openRegister()" style="width:auto;">Register</button>
    <!-- form for log in -->
    <span id="login" class="popup">
      <form><br><br>
        <label for="email">Email address</label>
        <input type="text" id="email" name="email" required><br><br>
        <label for="pass">Password</label>
        <input type="password" id="pass" name="password" required><br>

        <input type="radio" id="user" name="input" value="user">
        <label for="user">Utilizator</label><br>
        <input type="radio" id="company" name="input" value="company">
        <label for="company">Firma</label><br>

        <a href="../index.html"><button type="submit">Submit</a></button>
        <a href="">Forgot password?</a>  
      </form>
    </span>
    <!-- form for register -->
    <span id="register" class="popup">
      <form><br><br>
        <label for="fname">First Name</label>
        <input type="text" id="fname" name="firstname" required><br><br>
        <label for="lname">Last Name</label>
        <input type="text" id="lname" name="lastname" required><br><br>
        <label for="email">Email address</label>
        <input type="text" id="email" name="email" oninput="validateRegexEmail()" required><br><br>
        <label for="pass">Password</label>
        <input type="password" id="pass1" name="password" pattern="^(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$"
          title="Must contain at least one number, at least one special character and at least 8  characters" 
          oninput="validateRegexPass()" oninput="matchingPass()" required><br><br>
        <label for="pass">Confirm password</label>
        <input type="password" id="pass2" name="password" oninput="matchingPass()" required>

        <input type="radio" id="user" name="input" value="user">
        <label for="user">Utilizator</label><br>
        <input type="radio" id="company" name="input" value="company">
        <label for="company">Firma</label><br>

        <p id="regexEmail"></p>
        <p id="regexPass"></p>   
        <p id="matchingPass"></p>
        <a href="../index.html"><button type="submit">Submit</a></button>
        </form>
      </span>
  </form>
</div>

<script>
//function which open Log in form and close Register form
function openLogIn(){
    document.getElementById('login').style.display='block';
    document.getElementById('register').style.display='none';
  }
//function which open Register form and close Log in form
function openRegister(){
    document.getElementById('register').style.display='block';
    document.getElementById('login').style.display='none';
  }
//function to validate email
function validateRegexEmail(){
  var myInput=document.getElementById("email");
  if(!myInput.value.match(/[.+@.+\..+]/g))
    document.getElementById("regexEmail").innerHTML='Email is not valid.<br>';
}
//function which confirm that the both password are the same in register
function matchingPass() {
  if (document.getElementById("pass1").value!=document.getElementById("pass2").value) {
    txt = "Passwords don't match!";
    document.getElementById("matchingPass").innerText = txt;
  }
  else document.getElementById("matchingPass").innerText ='';
}
//function to verifing regex password
function validateRegexPass(){
  var myInput= document.getElementById("pass1");
  txt = '';
  if(!myInput.value.match(/[0-9]/g))
    txt += '<hr>Password must contain a number.<br>'; 
  if(!myInput.value.match(/[#?!@$%^_&*-]/g) && myInput.value.match(/[0-9]/g))
    txt += '<hr>Password must contain a symbol.<br>';
    else if(!myInput.value.match(/[#?!@$%^_&*-]/g) && !myInput.value.match(/[0-9]/g))
            txt += 'Password must contain a symbol.<br>';
  if(myInput.value.length < 8 && (myInput.value.match(/[0-9]/g) && myInput.value.match(/[#?!@$%^_&*-]/g)))
    txt += '<hr>Password must have 8 characters.';
    else if(myInput.value.length < 8 && (!myInput.value.match(/[0-9]/g) || !myInput.value.match(/[#?!@$%^_&*-]/g)))
    txt += 'Password must have 8 characters.';
  document.getElementById("regexPass").innerHTML=txt;
}
</script>

</body>
</html>
